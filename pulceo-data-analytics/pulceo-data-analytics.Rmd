---
title: "`r paste0('PULCEO Data Analytics:  ', params$subfolder)`" 
params:
  rootfolder: "/tmp/psm-data"
  subfolder: "sample"
knit: (function(input_file, encoding) {
  metadata <- rmarkdown::yaml_front_matter(input_file);
  out_dir <- with(metadata, paste0("reports/", params$subfolder));
  rmarkdown::render(input_file,
  encoding=encoding,
  output_file=file.path(dirname(input_file), out_dir, "index.html"))})
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: html_document
---
```{r, include=FALSE}
source("includes/R/filter.R")
install_and_load("here")
knitr::opts_knit$set(root.dir = here())
knitr::opts_chunk$set(echo = FALSE, warning = FALSE, include = FALSE)
```

```{r eval=FALSE, include=FALSE, echo=FALSE}
# TODO: remove
#ROOTFOLDER <- "/tmp/psm-data"
#SUBFOLDER <- "sample"
```

```{r directories, include=FALSE, echo=FALSE}
source(here("includes/R/directories.R"))
source(here("includes/R/tables.R"))
```

```{r child = 'includes/topology.Rmd'}
```

```{r child = 'includes/resources.Rmd'}
```

```{r child = 'includes/events.Rmd'}
```
    
```{r child = 'includes/metrics.Rmd'}
```

```{r child = 'includes/metrics/requests.Rmd'}
```

<!-- TODO: Task Offloading -->

```{r child = 'includes/metrics/tasks.Rmd'}
```
